<!DOCTYPE html>
<html lang="en">
<head>

<base href="..">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Building with Windows</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form action="" class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/pitivi.svg" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Pitivi Developer Documentation</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Pitivi" data-hotdoc-ref="attic/Building_with_Windows.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="building-with-windows">Building with Windows</h1>
<p>This tutorial describes how to build <a href="GES.html">GStreamer Editing
Services</a> using cerbero a freshly installed Windows 8.1 x86_64.</p>
<h1 id="download-software">Download Software</h1>
<h2 id="git">git</h2>
<p>Install <a href="http://msysgit.github.io/">git for Windows</a>.</p>
<ul>
<li>Bash only is fine</li>
<li>IMPORTANT: Select the install option “Checkout as-is, Commit as-is”</li>
</ul>
<h2 id="python-27">Python 2.7</h2>
<p>Install <a href="https://www.python.org/download/releases/2.7.8/">Python 2.7.8</a></p>
<ul>
<li>Choose the MSI Installer for x86_64.</li>
<li>For all users</li>
<li>To C:\Python27\</li>
</ul>
<h2 id="mingw">MinGW</h2>
<p>Install
<a href="http://sourceforge.net/projects/mingw/files/Installer/">mingw-get</a></p>
<ul>
<li>To C:\MinGW</li>
<li>Select the following packages in “Basic Setup”:
<ul>
<li>mingw32-base</li>
<li>mingw32-gcc-g++</li>
<li>msys-base</li>
</ul>
</li>
<li>Installation =&gt; Apply changes</li>
<li>Close the dialoge when complete</li>
</ul>
<h2 id="cmake">CMake</h2>
<p>Download the <a href="http://www.cmake.org/cmake/resources/software.html">CMake win32
installer</a>, since
there is no 64bit build.</p>
<p>You do not need to add CMake to the system path, since we are not using
CMD anyway.</p>
<h2 id="text-editor">Text Editor</h2>
<p>Make sure you have a decent text editor. I recommend Sublime or
Notepad++.</p>
<h1 id="setup-the-shell">Setup the shell</h1>
<h2 id="link-on-desktop">Link on Desktop</h2>
<p>Sadly I do not know how to make a .bat available in the task bar / dock,
so make a link on the Desktop.</p>
<ul>
<li>Make a link on your Desktop to C:\MinGW\msys\1.0\msys.bat</li>
<li>Rename it to msys Shell and give it a nice icon.</li>
</ul>
<h2 id="edit-fstab">Edit fstab</h2>
<p>This needs to be configured to be able to use the package manager
mingw-get.</p>
<ul>
<li>Go to C:\MinGW\msys\1.0\etc\</li>
<li>rename fastab.sample to fstab. If you installed MinGW to another
folder, you need to edit this file.</li>
</ul>
<h2 id="install-mintty">Install MinTTY</h2>
<ul>
<li>Open the shell from your Desktop.</li>
<li>It is a cmd like shell. Pasting sucks. We should install a cooler
one with transparency and stuff.</li>
</ul>
<p><code>$ mingw-get install mintty</code></p>
<p>Now we need to set it as the default shell</p>
<p>Add following line to C:\MinGW\msys\1.0\mys.bat after line 58:</p>
<p><code>set MSYSCON=mintty.exe</code></p>
<ul>
<li>Open your new cool shell mintty.</li>
</ul>
<p>It its scaled dynamically. You can copy with just selecting text. You
can paste with middle click. Cool.</p>
<h2 id="editing-your-bash-profile">Editing your bash profile</h2>
<p>We will need to add everything to our path manually.</p>
<p>Add the following lines at the end of C:\MinGW\msys\1.0\etc\profile</p>
<p><code>export PATH=$PATH:/c/Python27</code><br>
<code>export PATH=$PATH:/c/Program\ Files\ </code>$x86$<code>/Git/bin</code><br>
<code>export PATH=$PATH:/home/bmonkey/cerbero/</code><br>
<code>export PATH=$PATH:/c/Program\ Files\ </code>$x86$<code>/CMake/bin</code></p>
<p><code>alias cerbero=cerbero-uninstalled</code></p>
<p>Note that the cerbero path is the path where we will clone cerbero into
in the next step. You need to change it to your user name.</p>
<p>Save the file and restart your shell.</p>
<h2 id="setting-up-git-config">Setting up git config</h2>
<p>The bootstrap will fail if git config is not set up. Do the following:</p>
<p><code>$ git config --global user.email </code>“<code>you@example.com</code>”<br>
<code>$ git config --global user.name </code>“<code>Your`` ``Name</code>”</p>
<h1 id="compile">Compile</h1>
<h3 id="checkout-cerbero">Checkout cerbero</h3>
<p><code>$ git clone </code><a href="git://anongit.freedesktop.org/gstreamer/cerbero"><code>git://anongit.freedesktop.org/gstreamer/cerbero</code></a></p>
<h2 id="install-dependencies">Install dependencies</h2>
<p>Now we need to get some extra dependencies from mingw-get to start the
bootstrap.</p>
<p><code>$ mingw-get.exe install msys-perl msys-patch msys-bison msys-flex msys-coreutils</code></p>
<h2 id="bootstrap">Bootstrap</h2>
<p>Now we can start cerbero bootstrap.</p>
<p>If you cannot access the cerbero command, make sure its in the PATH in
your bash profile.</p>
<p><code>$ cerbero bootstrap</code></p>
<p>Go get some coffee.</p>
<h2 id="building-gstreamer-editing-services">Building GStreamer Editing Services</h2>
<p><code>$ cerbero build gst-editing-services-1.0</code></p>
<p>Go plant a tree. This can take hours.</p>
<h2 id="building-gstreamer-plugins">Building GStreamer Plugins</h2>
<p>Since GES does not depend on all plugins, you need to build them
manually.</p>
<p><code>$ cerbero build gst-plugins-bad-1.0</code><br>
<code>$ cerbero build gst-plugins-ugly-1.0</code><br>
<code>$ cerbero build gst-libav-1.0</code></p>
<h3 id="adding-gstreamer-tools-to-the-path">Adding GStreamer tools to the PATH</h3>
<p>You probably want to use ges-launch-1.0.exe and friends in the shell. To
do this, add the dist folder to the PATH.</p>
<p>In your bash profle:</p>
<p><code>export PATH=$PATH:/home/bmonkey/cerbero/dist/windows_x86_64/bin/</code></p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="configure-hangs">Configure hangs</h3>
<p>If you encounter the configure process to freeze, you need to close the
shell and kill all sh.exe processes in the task manager. Alternatively
you can log out and log in.</p>
<p><code>checking for msgfmt... /c/Users/Lubosz/cerbero/build-tools/bin/msgfmt</code><br>
<code>checking for gmsgfmt... /c/Users/Lubosz/cerbero/build-tools/bin/msgfmt</code><br>
<code>checking for xgettext... /c/Users/Lubosz/cerbero/build-tools/bin/xgettext</code><br>
<code>checking for msgmerge...</code></p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<hr>
	<div id="footer">
		    

	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://gitlab.gnome.org/GNOME/pitivi/edit/master/docs/attic/Building_with_Windows.md" data-hotdoc-role="edit-button">Edit on GitLab</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>
